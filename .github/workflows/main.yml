name: Call AWS Deploy Reusable Workflow

on:
  push:
    branches: [main]

jobs:
  call-deploy:
    uses: ./.github/workflows/deploy.yml
    permissions:
      id-token: write        # ðŸ‘ˆ ye line bahut important hai
      contents: read
    with:
      aws_region: "ap-south-1"
      role_arn: "arn:aws:iam::559413642096:role/GitHubOIDCRole"
      deploy_message: "OIDC reusable workflow tested successfully!"
